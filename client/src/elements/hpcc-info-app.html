<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-layout/demo/sample-content.html">
<link rel="import" href="../../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/iron-label/iron-label.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html" />
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html" />
<link rel="import" href="../../bower_components/iron-label/iron-label.html" />

<link rel="import" href="info-box.html">
<!-- <link rel="import" href="info-plugin-dialog.html">
<link rel="import" href="filter-dialog.html"> -->
<link rel="import" href="new-worksheet-dialog.html">
<link rel="import" href="open-worksheet-dialog.html">
<link rel="import" href="dialog-button.html">

<dom-module id="hpcc-info-app">

    <template>


        <style>
            
            app-toolbar {
                background-color: #4285f4;
                height: 50px;
                color: #fff;
            }
            
            main-title {
                margin-left: 15px;
                font-size: 18px;
            }

            app-drawer {
                --app-drawer-scrim-background: rgba(100, 100, 100, 0.8);
                --app-drawer-width: 300px;
            }

            paper-icon-button {
                --paper-icon-button: {
                    width: 36px;
                    height: 36px;
                }
            }

            .main {
                position: relative;
            }

            h2 {
                font-size: 16px;
                font-family: Helvetica, sans-serif;
                position: relative;
                padding: 0 0 0 10px;
                margin: 1em 0 .6em 0;
            }
           
            p {
                margin-left: 30px;
            }

            .headerLabels{
                color: gray;
                font-size: 12px;
                font-weight: bold;
            }

            .paperInputs {
                padding-left: 30px;
                padding-right: 20px;
            }

            paper-input.paperInputs {
                --paper-input-container-input-color: gray;
            }

            .btnSaveClusterDetails {
                background-color: #4caf50;
                color: white;
                text-transform: none;
                font-size: 15px;
                margin-left: 30px;
            }

            .toggleBtn {
                padding-left: 30px;
                padding-right: 20px;
                color: gray;
            }

            paper-toggle-button.toggleBtn {
                --paper-toggle-button-checked-bar-color:  var(--paper-indigo-500);
                --paper-toggle-button-checked-button-color:  var(--paper-indigo-500);
                --paper-toggle-button-checked-ink-color: var(--paper-indigo-500);
                --paper-toggle-button-unchecked-bar-color:  gray;
                --paper-toggle-button-unchecked-button-color:  gray;
                --paper-toggle-button-unchecked-ink-color: gray;
            }

            paper-button.green {
                background-color: var(--paper-green-500);
                color: white;
                text-transform: none;
                font-size: 15px;
            }


            paper-button.btnSaveClusterDetails {
                background-color: var(--paper-indigo-500);
                color: white;
                --paper-button-raised-keyboard-focus: {
                    background-color: var(--paper-pink-a200) !important;
                    color: white !important;
                }
                ;
            }


        </style>

        <!-- ----------------------- App Drawer Left Position ---------------------------->
        <app-toolbar>
            <paper-icon-button icon="menu" onclick="drawer.toggle()" ></paper-icon-button>
            <div class="main-title" id="projecttitle">Welcome to Info-Sec Application</div>
        </app-toolbar> 
        <new-worksheet-dialog></new-worksheet-dialog>
        <open-worksheet-dialog></open-worksheet-dialog>
        <info-box id="infobox"></info-box>
        <app-drawer id="drawer">
            <div class="listbx_div" role="listbox">
                <section class="main">
                    <h2><iron-label>Actions</iron-label></h2><hr>
                    <p><dialog-button id="new-worksheet-dialog" icon="create"></dialog-button>
                        <iron-label class="headerLabels">New Worksheet</iron-label>
                    </p>
                    <paper-tooltip for="new-worksheet-dialog" offset="10">New Worksheet</paper-tooltip>
                    <p><dialog-button id="open-worksheet-dialog" icon="mail"></dialog-button>
                        <iron-label class="headerLabels">Open Worksheet</iron-label>
                    </p>
                    <paper-tooltip for="open-worksheet-dialog" offset="10">Open Worksheet</paper-tooltip>

                    <h2><iron-label>Cluster Details</iron-label></h2><hr>
                    <paper-input class="paperInputs" id='cluster_name' label="Cluster Name" value="[[clustername]]"></paper-input>
                    <paper-input class="paperInputs" id='cluster_address' label="Cluster Address" value="[[clusteraddress]]"></paper-input>
                    <paper-input class="paperInputs" id='port' label="Port" value="[[port]]"></paper-input>
                    <paper-input class="paperInputs" id='username' label="Username" value="[[username]]"></paper-input>
                    <paper-input class="paperInputs" id='password' label="Password" value="[[password]]"></paper-input>
                    </br>
                    <paper-toggle-button class="toggleBtn" id="httpSecured">
                        <iron-label class="headerLabels">HTTP Secured</iron-label>
                    </paper-toggle-button></br></br>
                    <paper-button class="btnSaveClusterDetails" on-tap="addAllToSession">Save Cluster Details</paper-button>
                    <paper-button raised class="green" onclick="drawer.toggle()">Cancel</paper-button>
                </section>
            </div>
        </app-drawer>
    </template>
    
    <script>
   
        Polymer({
            is: 'hpcc-info-app',
            properties: {
                clusteraddress : {
                    type : String,
                    value : "10.173.147.1"
                },
                clustername : {
                    type : String,
                    value : "4-way"
                },
                port : {
                    type : String,
                    value : "8010"
                },
                httpSecured : Boolean,
                username    : String,
                password  : String,

            },

            ready : function(){
                var infoBox = this.$$('#infobox');
                try{
                infoBox.properties.cluster_name =  "4-way";
                infoBox.properties.cluster_address = "10.173.147.1";
                infoBox.properties.port = "8010";
                infoBox.properties.username = "";
                infoBox.properties.password = "";
                infoBox.properties.httpSecured = false;

                var pluginId = "common-input";
                infobox.addTab(pluginId, "Input", pluginId);    

                }catch(e2){
                    console.log("Error occurred");
                }

                //Initialize projecttitle handler for inline editing of projecttitle
                editProjectTitleHandler();

            },

            addAllToSession  : function(event){

                 var infoBox = this.$$('#infobox');

                infoBox.properties.cluster_name = this.$.cluster_name.value;
                infoBox.properties.cluster_address = this.$.cluster_address.value;
                infoBox.properties.port = this.$.port.value;
                infoBox.properties.username = this.$.username.value;
                infoBox.properties.password = this.$.password.value;
                infoBox.properties.httpSecured = this.$.httpSecured.value;
                
            },


             addMeToSession : function(event){

                 var infoBox = this.$$('#infobox');
                switch(event.currentTarget.id){
                    case 'cluster_name' : 
                        infoBox.properties.cluster_name = event.currentTarget.value;
                        break;
                    case 'cluster_address' : 
                        infoBox.properties.cluster_address = event.currentTarget.value;
                        break;
                    case 'port':
                        infoBox.properties.port = event.currentTarget.value;
                        break;
                    case 'username':
                        infoBox.properties.username = event.currentTarget.value;
                        break;
                    case 'password':
                        infoBox.properties.password = event.currentTarget.value;
                        break;
                    case 'httpSecured':
                        infoBox.properties.httpSecured = event.currentTarget.value;
                        break;
                    default:
                        break;
                }
                console.log(event);
             }     

        });
    </script>

</dom-module>